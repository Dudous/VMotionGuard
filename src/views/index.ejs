<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Login</title>
</head>
<body class='modeAtual'>

  <div class="modeCenter">
    <div class="mode">
      <img id="modeToggle" onclick="toggleDarkMode()" src="img/moon.png" alt="Toggle Dark Mode">
    </div>
  </div>

  <header>
    <div class="logo" style="margin-top: 15vh;">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTvSTvqQvA7WuJQm47fleJFI3bQ9Q3KXKwxTg&s" alt="">
    </div>
  </header>

  <main>
    <%if (msg != '') { %>
      <script>
          alert("user já existe, por favor faça login");
      </script>
    <% } %>

    <%if (notFound != '') { %>
      <script>
          alert("O login não existe, por favor cadastre-se");
      </script>
    <%} %>

    <%if (incorrect != '') { %>
      <script>
          alert("senha ou user incorretos");
      </script>
    <%} %>

    <h1>LOGIN</h1>

    <form action="/" method="post">
      <div class="mb-3">
        <label for="userInput" class="form-label">CPF</label>
        <input type="text" id="userInput" name="userInput" class="form-control" placeholder="Digite seu CPF">
      </div>
      <div class="mb-3">
        <label for="senhaInput" class="form-label">Senha</label>
        <input type="password" id="senhaInput" name="senhaInput" class="form-control" placeholder="Digite sua senha">
      </div>
      <div class="forgotPassword text-end">
        <a href="">Esqueceu sua senha?</a>
      </div>
     
      <button type="submit" class="btn btn-primary button">Entrar</button>
    </form>

    <div class="criarConta">
      <p>Não tem uma conta?</p>
      <a href="/registerUser">Criar Conta</a>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('light-mode') === 'enabled') {
        document.body.classList.add('light-mode');
        document.getElementById('modeToggle').src = 'img/sun.png';
      }
    });

    function toggleDarkMode() {
      const lightModeEnabled = document.body.classList.toggle('light-mode');
      localStorage.setItem('light-mode', lightModeEnabled ? 'enabled' : 'disabled');
      document.getElementById('modeToggle').src = lightModeEnabled ? 'img/sun.png' : 'img/moon.png';
    }
  </script>
</body>
</html>
